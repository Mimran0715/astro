 #x_axis = svd_data[:, 3]
            #y_axis = svd_data[:, 0]
            #plt.scatter(x_axis, y_axis, alpha=0.15)
 #plt.xticks()
            #plt.set_xticks()
            #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))
         #x_axis = svd_data[:, 3]
            #y_axis = svd_data[:, 0]
            #plt.scatter(x_axis, y_axis, alpha=0.15)
             #plt.xticks()
            #plt.set_xticks()
            #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))
    #x_axis = svd_data[:, 3]
            #y_axis = svd_data[:, 0]
            #plt.scatter(x_axis, y_axis, alpha=0.15)
      #plt.xticks()
            #plt.set_xticks()
            #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))
 # f = plt.figure()
            # x_axis = svd_data[:, 3]
            # y_axis = svd_data[:, 1]
            # plt.scatter(x_axis, y_axis, alpha=0.15)
            # plt.title("SVD Component 1 vs Year")
            # plt.xlabel("Year")
            # plt.ylabel("SVD comp 1")
            # #plt.xticks()
            # #plt.set_xticks()
            # #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))
            # plt.show()
            # pdf.savefig(f)

            # f = plt.figure()
            # x_axis = svd_data[:, 3]
            # y_axis = svd_data[:, 2]
            # plt.scatter(x_axis, y_axis, alpha=0.15)
            # plt.title("SVD Component 2 vs Year")
            # plt.xlabel("Year")
            # plt.ylabel("SVD comp 2")
            # #plt.xticks()
            # #plt.set_xticks()
            # #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))
            # plt.show()
            # pdf.savefig(f)

            # f = plt.figure()
            # sns.set_theme(style="whitegrid")
            # x_axis = svd_data[:, 0]
            # y_axis = svd_data[:, 4]
            # ax = plt.gca()
            
            # #vert=False bad idea, sns violinplot bad idea
            # #ax.violinplot([x_axis, y_axis],showmeans=True, showextrema=True, showmedians=True)
            # ax.violinplot(x_axis,showmeans=True, showextrema=True, showmedians=True)
            # plt.title("SVD Component 0  - VIOLIN")
            # plt.show()
            # pdf.savefig(f)
     #x_axis = svd_data[:, 0]
            #y_axis = svd_data[:, 4]
            #ax = plt.gca()
            #df['year_d'] = 
     #ax.set_xticks(years)
            #years = ["1980-1984", "1985-1989","1990-1994","1995-1999", "2000-2004", "2005-2009", "2010-2014", "2015-2021"]
            #ax.set_xticks(years)
            #ax.violinplot([x_axis, y_axis],showmeans=True, showextrema=True, showmedians=True)
            #ax.violinplot(y_axis,showmeans=True, showextrema=True, showmedians=True)
            #ax.set_yscale('log')

            #vert=False bad idea, sns violinplot bad idea
            
            # f = plt.figure(figsize=(10,8))
            # sns.set_theme(style="whitegrid")
            # ax = plt.gca()
            # sns.violinplot(x=df['year_d'],y=df['SVD_comp_0'], inner='quartile', ax=ax)
            # plt.title("SVD comp 0 v. Year - VIOLIN")
            # plt.ylabel("SVD comp 0")
            # plt.xlabel("Year")
            # plt.show()
            # pdf.savefig(f)

        
            # f = plt.figure()
            # sns.set_theme(style="whitegrid")
            # x_axis = svd_data[:, 0]
            # y_axis = svd_data[:, 4]
            # ax = plt.gca()
            
            # #vert=False bad idea, sns violinplot bad idea
            # ax.violinplot([x_axis, y_axis],showmeans=True, showextrema=True, showmedians=True)
            # ax.set_yscale('log')
            # #ax.violinplot(x_axis,showmeans=True, showextrema=True, showmedians=True)
            # plt.title("SVD Component 0 v. Cit Count - VIOLIN")
            # plt.show()
            # pdf.savefig(f)


            # #ax.set_xticks([1])
            # #ax.violinplot([x_axis, y_axis],showmeans=True, showextrema=True, showmedians=True)
            # #ax = sns.violinplot(x=x_axis, y=y_axis)
            # # ax.scatter(x_axis, y_axis)
            # #ax.set_yscale('log')
            # plt.title("SVD Component 0 vs Citation_Count - VIOLIN")
            # #plt.xticks()
            # #plt.set_xticks()
            # #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))
            # plt.show()
            # pdf.savefig(f)
        
            # f = plt.figure()
            # x_axis = svd_data[:, 0]
            # y_axis = svd_data[:, 4]
            # y_axis = np.log10(y_axis)
            # ax = plt.gca()
            # ax.scatter(x_axis, y_axis)
            # #ax.set_yscale('log')
            # plt.title("SVD Component 0 vs Citation_Count - FOR DEMO - log10 np ")
            # #plt.xticks()
            # #plt.set_xticks()
            # #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))
            # plt.show()
            # pdf.savefig(f)

            # x_axis = svd_data[:, 0]
            # y_axis = svd_data[:, 4]
            #ax = plt.gca()
             #vert=False bad idea, sns violinplot bad idea
            #ax.violinplot([x_axis, y_axis],showmeans=True, showextrema=True, showmedians=True)
            #ax.violinplot(y_axis,showmeans=True, showextrema=True, showmedians=True)
            #ax.set_yscale('log')

             # x_axis = svd_data[:, 0]
            # y_axis = svd_data[:, 4]
            # #ax = plt.gca()

             #vert=False bad idea, sns violinplot bad idea
            #ax.violinplot([x_axis, y_axis],showmeans=True, showextrema=True, showmedians=True)
            #ax.violinplot(y_axis,showmeans=True, showextrema=True, showmedians=True)
            #ax.set_yscale('log')
       #svd_year = np.append(svd_year, arr, axis=0) 
        #print(svd_year[0])
        #print(svd_year.shape)
        #break
        #print("Data 2d Train")
        # print(data2D_tr.shape)
        # print(data2D_tr[0])
        # print()

        # print('Data 2d Test')
        # print(data2D_te.shape)
        # print(data2D_te[0])
        # print()

        # print("Components: ")
        # print(svd.components_)
        # print(svd.components_.shape)
        # print()

        # print("Variance Ratio: ")
        # print(svd.explained_variance_)
        # print()

        # print("Explained Variance Ratio")
        # print(svd.explained_variance_ratio_)
        # print()

        # print("Singular Values")
        # print(svd.singular_values_)
        # print()

        # break
        # for x in df_mini.iterrows():
        #     print(x)
        #     break
        #print(type(data2D_tr[0]))
        #print(arr)
        #data2D_tr = np.append(data2D_tr, df_mini.iloc['year'])
        #print(data2D_tr[0])
        #break
        #data2D_tr_year = np.append(data2D_tr, df_mini[:8000]['year'], axis=1)
        #print(data2D_tr_year)
        # print("X tr ", X_tr)
        # print()
        # print()

        # print("X te ", X_te)
        # print()
        # print() 

        #     inspecting df  
        #     print(df.shape)
        #     year_type = df.apply(lambda x: check_year(x['year']), axis=1)
        #     df['year_type'] = year_type
        #     print(df['year_type'].value_counts())
        #     print()
        #     print(df.memory_usage(deep=True))
        #     x = 3
        #     print("runs value ... ", runs)
        #     results_file = open("results.txt", "a")
        #    print(df_mini.shape)
        #year_type = df_mini.apply(lambda x: check_year(x['year']), axis=1)
        #df_mini['year_type'] = year_type
        #vals = df_mini['year_type'].value_counts()
        
        #results_file.write("run...{x}\n".format(x=run))
        #results_file.close()
        #print()
        #print(vals)
        #print()
        #print(df_mini)

         #year_type = df.apply(lambda x: check_year(x['year']), axis=1)
        
        #print(df.head())
        #vals = df['year_type'].value_counts()
        #min_count = vals.min()

        #print(df['year_type'].value_counts())
        #print("Inspecting df of sample ...")
        #print(df.groupby('year_type').count())
        #print("Df shape", df.shape)
        #print(df.head())
        #print("DF columns: ", df.columns)
        #print("Duplicate rows: ")
        #print(df.duplicated())
        #print(" 5 papers with most citation count" )
        #print(df.nlargest(5, 'citation_count'))
        #print(" 5 papers with least citation count" )
        #print(df.nsmallest(5, 'citation_count'))
        #print("Unique")
        #print(df.nunique())

        #print("obtained df, going to train now...")

       
        #model_path = input("Model path: ")
        #pickle.dump(model, open(model_path, 'wb'))

        #print("X_tr shape: ", X_tr.shape)
        #print("X_te shape: ", X_te.shape)
        #print("data2D_tr shape: ", data2D_tr.shape)
        #print("data2D_te shape: ", data2D_te.shape)

        #print("SVD Components, ", svd.components_.shape)
        #print("first comp ", svd.components_[0].shape)
        #print("second com")

        #results_file.write("SVD INFO : ---------\n")
        #print("SVD Info: -------")
        #print()
        
        #print(svd.components_[0][:10])
        #comp_0 = fix_arr(comp_0)
        #print(comp_0[0])
        
        #print(svd.components_.shape)
        #zip_zip = 
        #print(zip_zip[0])

        # comp_0 = svd.components_[0]
        # print("SVD type", type(svd.components_[0]))
        # norm = np.linalg.norm(comp_0)
        # print("Normalized ", comp_0/norm)
        #x = NormalizeData(comp_0)
        #x = fix_arr_2(comp_0)
        #print("X", x)
        
        # sorted_zip = sorted(zip(svd.components_[0], df_mini['year']), key=lambda x: x[1])
        #print("Sorted Zip ")
        #for x in sorted_zip:
        #    print(x)
        #    break
        #break

        #results_file.write("Silhouette avg score: {x}\n".format(x=silhouette_avg))

        # print("Best features: --- ")
        # best_features_0 = [terms[i] for i in svd.components_[0].argsort()[::-1]]
        # print("SVD Comp 0: ", best_features_0[:10])
        # print()

        # best_features_1 = [terms[i] for i in svd.components_[1].argsort()[::-1]]
        # print("SVD Comp 1: " , best_features_1[:10])
        # print()

        # best_features_2 = [terms[i] for i in svd.components_[2].argsort()[::-1]]
        # print("SVD Comp 2: ", best_features_2[:10])
        # print()

        #print(svd.components_.shape)
        #print(df_mini.shape)
        #print(len(list(comp_dict.keys())))
        #print(pd.DataFrame(svd.components_,columns=df_mini.columns,index = list(comp_dict.keys())))


            # f = plt.figure()
            # x_axis = svd_data[:, 0]
            # y_axis = svd_data[:, 4]
            # ax = plt.gca()
            # ax.scatter(x_axis, y_axis)
            # #ax.set_yscale('log')
            # plt.title("SVD Component 0 vs Citation_Count")
            # plt.xlabel("SVD comp 0")
            # plt.ylabel("Year")
            # #plt.xticks()
            # #plt.set_xticks()
            # #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))
            # plt.show()
            # pdf.savefig(f)

            # f = plt.figure()
            # x_axis = svd_data[:, 1]
            # y_axis = svd_data[:, 4]
            # ax = plt.gca()
            # ax.scatter(x_axis, y_axis)
            # #ax.set_yscale('log')
            # plt.title("SVD Component 1 vs Citation_Count")
            # #plt.xticks()
            # #plt.set_xticks()
            # #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))
            # plt.show()
            # pdf.savefig(f)

            # f = plt.figure()
            # x_axis = svd_data[:, 1]
            # y_axis = svd_data[:, 4]
            # ax = plt.gca()
            # ax.scatter(x_axis, y_axis)
            # #ax.set_yscale('log')
            # plt.title("SVD Component 2 vs Citation_Count")
            # #plt.xticks()
            # #plt.set_xticks()
            # #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))
            # plt.show()
            # pdf.savefig(f)

            #  x_axis = svd_data[:, 0]
            # y_axis = svd_data[:, 4]
            # #y_axis = np.log10(y_axis)

             #plt.xticks()
            #plt.set_xticks()
            #ax = sns.scatterplot(x_axis, y_axis, hue = new_train['cluster'], palette=list(cluster_colors.values()))